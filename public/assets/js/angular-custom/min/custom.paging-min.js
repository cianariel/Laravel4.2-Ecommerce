angular.module("pagingApp.controllers",[]).controller("pagingController",function(e,t){e.allContent=[],e.content=[],e.newStuff=[],e.currentPage=1,e.contentBlock=angular.element(document.querySelector(".main-content")),e.filterLoad=[],e.firstLoad=t.getContent(1).success(function(t){e.allContent[0]=t,e.content[0]=e.sliceToRows(t.regular,t.featured)}),e.loadMore=function(){if(e.currentPage++,e.allContent[e.currentPage]=[],"undefined"==typeof e.filterBy){var n=0;e.filterBy=null}else var n=9;e.nextLoad=t.getContent(e.currentPage,n,e.filterBy).success(function(t){e.newStuff[0]=e.sliceToRows(t.regular,t.featured),e.content=e.content.concat(e.newStuff),e.allContent[e.currentPage].regular=t.regular,e.allContent[e.currentPage].featured=t.featured})},e.filterContent=function(n){function r(e){return e.type==n}if(a=[],e.filterBy===n)return!0;if("undefined"==typeof n||null===n||"all"===n)return e.nextLoad=t.getContent(1).success(function(t){e.allContent[0]=t,a[0]=e.sliceToRows(t.regular,t.featured)}),$(".homepage-grid").fadeOut(1e3,function(){e.content=a,$(".homepage-grid").fadeIn(1e3)}),!0;if("undefined"!=typeof e.filterBy)return e.nextLoad=t.getContent(1,9,n).success(function(t){a[0]=e.sliceToRows(t.regular,t.featured),e.allContent[0]=t}),$(".homepage-grid").fadeOut(1e3,function(){e.content=a,$(".homepage-grid").fadeIn(1e3)}),e.filterBy=n,!0;e.filterBy=n;var a=[],l=0;e.allContent.forEach(function(o){if(e.filtered=[],e.filtered.regular=o.regular.filter(r),null!=n&&"idea"!=n?e.filtered.featured=[]:e.filtered.featured=o.featured,e.filtered.regular.length<9){var u=9-e.filtered.regular.length;e.nextLoad=t.getContent(e.currentPage,u,n,e.filtered).success(function(t){e.filtered.regular=e.filtered.regular.concat(t.regular),null==n&&"idea"==n&&e.filtered.featured==[]&&(e.filtered.featured=t.featured),a[l]=e.sliceToRows(e.filtered.regular,e.filtered.featured),l++})}},this),$(".homepage-grid").fadeOut(1e3,function(){e.content=a,$(".homepage-grid").fadeIn(1e3)}),e.allContent=e.allContent.concat(a)},e.sliceToRows=function(e,t){var n=[];return n["row-1"]=e.slice(0,3),n["row-2"]=t[0]?[t[0]]:!1,n["row-3"]=e.slice(3,6),n["row-4"]=t[1]?[t[1]]:!1,n["row-5"]=e.slice(6,9),n["row-6"]=t[2]?[t[2]]:!1,n},e.fadeAnimation=function(e,t,n){$(e).fadeOut(n())}}),angular.module("pagingApp",["pagingApp.controllers","pagingApp.services","cgBusy"]),angular.module("pagingApp.services",[]).factory("pagaingApi",function(e){var t={};return t.getContent=function(t,n,r){return e({method:"GET",url:"/api/paging/get-content/"+t+"/"+n+"/"+r})},t}),angular.module("pagingApp").value("cgBusyDefaults",{message:"",backdrop:!1,templateUrl:"/assets/svg/spinner.html",delay:300,minDuration:700,wrapperClass:"my-class my-class2"});