angular.module("pagingApp.controllers",[]).controller("pagingController",function(e,n,t){e.allContent=[],e.content=[],e.newStuff=[],e.currentPage=1,e.contentBlock=angular.element(document.querySelector(".main-content")),e.filterLoad=[],e.firstLoad=t.getContent(1,0).success(function(n){e.allContent[0]=n,e.content[0]=e.sliceToRows(n.regular,n.featured)}),e.loadMore=function(){if(e.currentPage++,e.allContent[e.currentPage]=[],e.filterBy&&"undefined"!=typeof e.filterBy)var n=9;else{var n=0;e.filterBy=null}e.nextLoad=t.getContent(e.currentPage,n,e.filterBy).success(function(n){e.newStuff[0]=e.sliceToRows(n.regular,n.featured),e.content=e.content.concat(e.newStuff),e.allContent[e.currentPage].regular=n.regular,e.allContent[e.currentPage].featured=n.featured})},e.filterContent=function(n){$(".main-content").fadeOut(500,function(){var a=[];return e.filterBy===n?!0:"undefined"==typeof n||null===n||"all"===n?(e.nextLoad=t.getContent(1).success(function(n){e.allContent[0]=n,a[0]=e.sliceToRows(n.regular,n.featured)}),e.currentPage=1,e.filterBy=null,e.content=a,$(".main-content").fadeIn(),!0):(e.filterBy=n,void(e.nextLoad=t.getData(e.currentPage,n,e.sliceToRows).then(function(n){var t=n;e.content=t,e.allContent=e.allContent.concat(t),$(".main-content").fadeIn(500)})))})},e.sliceToRows=function(e,n){var t=[];return t["row-1"]=e.slice(0,3),t["row-2"]=n[0]?[n[0]]:!1,t["row-3"]=e.slice(3,6),t["row-4"]=n[1]?[n[1]]:!1,t["row-5"]=e.slice(6,9),t["row-6"]=n[2]?[n[2]]:!1,t},e.fadeAnimation=function(e,n,t){$(e).fadeOut(t())},e.subscribe=function(){e.responseMessage="",n({url:"/api/subscribe",method:"POST",data:{Email:e.SubscriberEmail}}).success(function(n){406==n.status_code?e.responseMessage="Invalid Email !":200==n.status_code?(e.responseMessage="Successfully Subscribed",e.SubscriberEmail=""):e.responseMessage="Email already subscribed"})}}),angular.module("pagingApp",["pagingApp.controllers","pagingApp.services","pagingApp.filters","cgBusy"]),angular.module("pagingApp.services",[]).factory("pagaingApi",function(e,n){var t={};return t.getContent=function(n,t,a,r){return e({method:"GET",url:"/api/paging/get-content/"+n+"/"+t+"/"+a+"/"+r})},t.getData=function(t,a,r){for(var o=[],l=1;t+1>l;l++)o.push(e.get("/api/paging/get-content/"+l+"/9/"+a)),l++;var u=n.all(o).then(function c(e){var n=0,t=[];e.forEach(function(e){console.log("page"),console.log(n);var o=[];o.regular=e.data.regular,null!=a&&"idea"!=a?o.featured=[]:o.featured=e.data.featured,t[n]=r(o.regular,o.featured),n++});var o=t;return o});return u},t}),angular.module("pagingApp").value("cgBusyDefaults",{message:"",backdrop:!1,templateUrl:"/assets/svg/spinner.html",delay:300,minDuration:700,wrapperClass:"my-class my-class2"}),angular.module("pagingApp.filters",[]).filter("_uriseg",function(e){return function(n){var t=e.absUrl().replace(BASE_URL,""),a=t.split("/");return a[n-1]?a[n-1]:!1}});